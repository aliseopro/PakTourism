var $resultTable=null,$sortLabels=null,hotelSearchFilter=($(document).ready(function(){$resultTable=$("#link-table div.item"),$sortLabels=$(".sortselect"),hotelSearchFilter.init(),hotelSortFilter.init(),$(".btn-filter").click(function(){$("#collapseFilter").toggleClass("d-none d-md-flex position-absolute box-shadow"),$(".close-text").toggleClass("d-none")})}),function(){var l=$("#filterByName"),n=$(".filterByStar"),o=$(".filterByBoard"),s=$(".filterByNonRefundable"),e=(this.init=function(){var e,t,r;$("#filterByName").keyup(function(){applyFilter()}),$(".filterByStar").click(function(){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}),$(".filterByBoard").click(function(){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}),$(".filterByNonRefundable").click(function(){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}),$("#filterByAvail").click(function(){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}),null!=$resultTable&&(t=$($resultTable.first()).attr("price"),r=$($resultTable.last()).attr("price"),e=$($resultTable.last()).attr("currency"),t=10*parseInt(t/10,10),r=10*parseInt(r/10,10)+10,$("#avail-result").html($("div.result-row[any-available=true]").length),$(".js-range-slider-price").ionRangeSlider({type:"double",skin:"round",hide_min_max:!0,min:t,max:r,postfix:" "+e,onChange:function(e){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}}),$(".js-range-slider-review").ionRangeSlider({skin:"round",hide_min_max:!0,postfix:"+",step:.5,onChange:function(e){applyFilter(),$("#btnResetFilter").removeClass("opacity-50")}})),$("#btnResetFilter").click(function(){var e=$(".js-range-slider-price").data("ionRangeSlider"),t=($(".js-range-slider-price").each(function(){$(this).data("ionRangeSlider").update({from:e.result.min,to:e.result.max})}),$(".js-range-slider-review").data("ionRangeSlider"));$(".js-range-slider-review").each(function(){$(this).data("ionRangeSlider").update({from:t.result.min})}),$(".filterByStar").prop("checked",!0),$(".filterByBoard").prop("checked",!0),$(".filterByNonRefundable").prop("checked",!0),$("#filterByAvail").prop("checked",!1),$(this).addClass("opacity-50"),applyFilter()})},this.applyFilter=function(){var r=e();$resultTable.each(function(e,t){i(t,r)?$(t).show():$(t).hide()})},function(){var r={},i=(n.each(function(e,t){r[t.value]=$(t).prop("checked")}),{}),a=(o.each(function(e,t){i[t.value]=$(t).prop("checked")}),{}),e=(s.each(function(e,t){a[t.value]=$(t).prop("checked")}),$(".js-range-slider-price").data()),t=$(".js-range-slider-review").data();return{minprice:parseInt(e.from),maxprice:parseInt(e.to),minScore:parseFloat(t.from),name:l.val().toLocaleLowerCase("tr-TR"),stars:r,boards:i,nonRefundables:a,hotelAvailable:!!$("#filterByAvail").is(":checked")}});function c(e){var t={"İ":"[İi]",I:"[İi]","Ş":"[Şş]","Ğ":"[Ğğ]","Ü":"[Üü]","Ö":"[Öö]","Ç":"[Çç]",i:"[İi]","ı":"[İi]","ş":"[Şş]","ğ":"[Ğğ]","ü":"[Üü]","ö":"[Öö]","ç":"[Çç]"};return e.replace(/(([İIŞĞÜÇÖiışğüçö]))/g,function(e){return t[e]})}var i=function(e,t){if(0<t.name.length){var r=c(t.name);if(c($(e).attr("hotelname").toLocaleLowerCase("tr-TR")).indexOf(r)<0)return!1}if($(e).attr("star")in t.stars&&!t.stars[$(e).attr("star")])return!1;r=$(e).attr("boardlist");if(!r)return!1;var i,a=r.split(",");for(i in a)if(a[i]in t.boards&&!t.boards[a[i]])return!1;r=$(e).attr("refund");return!(r in t.nonRefundables&&!t.nonRefundables[r])&&(!(t.minprice>parseFloat($(e).attr("price"))||t.maxprice<parseFloat($(e).attr("price")))&&(!(t.minScore>$(e).attr("score"))&&(!t.hotelAvailable||"false"!=$(e).attr("any-available"))))};return{init:init,applyFilter:applyFilter}}()),hotelSortFilter=function(){return this.init=function(){$sortLabels.on("change",function(e){var t=$(this).find(":selected"),r=t.data("filter-attribute"),i=t.data("filter-direction"),a=t.data("filter-value-type");$resultTable.sort(function(e,t){var e=$(e).attr(r),t=$(t).attr(r);return"numeric"==a&&(e=parseFloat(e),t=parseFloat(t)),t=(e=e||-1)<(t=t||-1)?-1:t<e?1:0,"desc"==i&&(t*=-1),t}).appendTo("#link-table")})},{init:init}}();
//# sourceMappingURL=hotelSearchFilter.js.map
